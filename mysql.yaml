- name: install mysql
  hosts: mysql
  become: yes
  vars:
    Password: ExpenseApp@1
  tasks: 
    - name: install mysqlserver
      ansible.builtin.dnf: 
        name:  mysql-server
        state: present

    - name: start and enable mysql
      ansible.builtin.service:
        name : mysqld
        state: started
        enabled: yes

    # - name: seting root password 
    #   ansible.builtin.command: mysql_secure_installation --set-root-pass {{ Password }}

    - name: seting root password 
      ansible.builtin.command: mysql_secure_installation --set-root-pass ExpenseApp@1





    